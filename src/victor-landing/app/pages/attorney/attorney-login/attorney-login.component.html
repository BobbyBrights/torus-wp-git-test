<section class="v-login pb-sm-5 mb-sm-5 pt-4 mt-1 mb-5">
  <div class="container login-container u-height-medvh d-flex flex-column justify-content-center">



    <div class="row justify-content-center">

      <div class="col-12 col-sm-8 col-md-6 col-lg-4 login-container__login">
        <div class="text-center mb-4">
          <img src="./assets/images/victor-horizontal-logo.png" class="login-container__logo" />
        </div>

        <div *ngIf="showAlert" class="row justify-content-center">
          <div class="col-12 col-md-12">

            <div id="LoginAlert" class="fade show alert v-alert p-2" role="alert">
              <strong> {{message}} </strong>

              <span *ngIf="!loginStatus" (click)="showAlert = false" class="alert__icon pull-right">
                <i class="fa fa-close"></i>
              </span>
            </div>
          </div>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="login()">
          <div class="row justify-content-center">
            <div class="col-12 col-md-12">
              <h4 *ngIf="!showAlert" class="mt-4 mb-4">Login Here</h4>
              <div class="textbox form-group d-flex flex-column position-relative">
                <label for="email" class="form-label"> EMAIL ADDRESS </label>
                <input type="email" class="form-control u-form-control-pad" formControlName="EmailId" (blur)="checkUserAvailability()" (focus)="showAlert = false"
                  [ngClass]="(!loginStatus && showAlert) ?'error_class':''" name="EmailId" id="EmailId" />

                <span *ngIf="!loginFormControls?.EmailId?.invalid && (loginFormControls?.EmailId.dirty || loginFormControls?.EmailId?.touched)"
                  class="login-success__icon">
                  <i class="fa fa-check" aria-hidden="true"></i>
                </span>



                <ng-container *ngIf="loginFormControls?.EmailId?.invalid && (loginFormControls?.EmailId.dirty || loginFormControls?.EmailId?.touched)">
                  <span class="login-failure__text">
                    Invalid
                  </span>
                  <div class="form-feedback">
                    <p class="mt-2 v-error" *ngIf="loginFormControls?.EmailId?.errors?.required">EMAIL ADDRESS IS
                      REQUIRED</p>
                    <p class="mt-2 v-error" *ngIf="!loginFormControls?.EmailId?.errors?.required && loginFormControls?.EmailId?.errors?.email">THIS
                      IS NOT AN EMAIL ADDRESS</p>
                  </div>
                </ng-container>

              </div>

            </div>
            <div class="col-12 col-md-12">
              <div class="form-group d-flex flex-column position-relative">
                <label for="password" class="form-label"> PASSWORD </label>
                <input type="password" required class="form-control u-form-control-pad" formControlName="Password"
                  [ngClass]="(!loginStatus && showAlert) ?'error_class':''" name="password" id="password" />

                <span *ngIf="!loginFormControls?.Password?.invalid && (loginFormControls?.Password.dirty || loginFormControls?.Password?.touched)"
                  class="login-success__icon">
                  <i class="fa fa-check" aria-hidden="true"></i>
                </span>

                <ng-container *ngIf="loginFormControls?.Password?.invalid && (loginFormControls?.Password.dirty || loginFormControls?.Password?.touched)">
                  <span class="login-failure__text">
                    Invalid
                  </span>

                  <div class="form-feedback">
                    <p class="mt-2 v-error" *ngIf="loginFormControls?.Password?.errors?.required">PASSWORD IS REQUIRED</p>
                  </div>
                </ng-container>

              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-12 col-md-12 mt-2">
              <a href="#" class="login__link" (click)="navigate('pages/attorney-forgot-password', $event)">
                FORGOT YOUR PASSWORD?
              </a>
              <a href="#" class="login__link" (click)="navigate('pages/attorney-register', $event)">
                FIRST TIME USER? &nbsp; SIGNUP
              </a>
            </div>
            <div class="w-100"></div>
            <div class="col-12 col-md-12 text-center mt-2">
              <div class="form-group">
                <button type="submit" class="btn btn-primary btn-semi-circle w-50 p-2" [disabled]="!loginForm.valid">Login
                </button>
              </div>
            </div>
            <div class="w-100"></div>
            <div class="col-12 col-md-12 text-center mt-2 mb-5">
              <a [routerLink]="['/pages/contact-us']" class="contact__link text-center mt-5">
                PLEASE CONTACT VICTOR FOR HELP
              </a>
            </div>
          </div>
        </form>
      </div>

    </div>
  </div>
</section>

<app-loader [showLoader]="showLoader"></app-loader>
